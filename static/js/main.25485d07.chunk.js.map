{"version":3,"sources":["constants/routeConstants.ts","constants/authConstants.ts","constants/painterConstants.ts","constants/themes.ts","store/auth/reducer.ts","firebase.ts","services/authServices.ts","services/dbServices.ts","store/auth/actions.ts","store/painter/reducer.ts","store/painter/actions.ts","store/index.ts","assets/icons/brush.svg","assets/icons/profile-user.svg","assets/icons/shapes.svg","components/Header/Header.tsx","components/PrivateRoute.tsx","components/Painter/Drawing/Drawing.ts","components/Painter/PainterTop/PainterTop.tsx","components/Painter/Toolbar/Tools/PanelWrapper/PanelWrapper.tsx","components/Painter/Toolbar/Tools/ColorTool/Panel/Panel.tsx","components/Painter/Toolbar/Tools/ColorTool/ColorTool.tsx","components/Painter/Toolbar/Tools/SizeTool/Panel/Panel.tsx","components/Painter/Toolbar/Tools/SizeTool/SizeTool.tsx","components/Painter/Toolbar/Tools/ShapesTool/Panel/Panel.tsx","components/Painter/Toolbar/Tools/ShapesTool/ShapesTool.tsx","components/Painter/Toolbar/Tools/BrushTool/BrushTool.tsx","components/Painter/Toolbar/Tools/LineTool/LineTool.tsx","components/Painter/Toolbar/Toolbar.tsx","components/Painter/Painter.tsx","components/DrawingsView/DrawingsView.tsx","components/SearchInput/SearchInput.tsx","pages/HomePage.tsx","pages/ProfilePage/ProfilePage.tsx","components/auth/EmailInput.tsx","components/auth/NicknameInput.tsx","components/auth/PasswordInput.tsx","components/auth/PasswordConfirmInput.tsx","components/auth/SubmitBtn.tsx","pages/LoginPage.tsx","pages/RegistrationPage.tsx","pages/ResetPasswordPage.tsx","pages/PainterPage.tsx","pages/DrawingPage.tsx","App.tsx","index.tsx","pages/ProfilePage/_styles.module.scss","components/Header/_styles.module.scss","components/DrawingsView/_styles.module.scss","components/Painter/PainterTop/_styles.module.scss","components/Painter/Toolbar/Tools/ColorTool/_styles.module.scss","components/Painter/Toolbar/Tools/BrushTool/_styles.module.scss","components/Painter/Toolbar/Tools/SizeTool/_styles.module.scss","components/Painter/Toolbar/Tools/ShapesTool/Panel/_styles.module.scss","components/Painter/Toolbar/Tools/ShapesTool/_styles.module.scss","components/Painter/Toolbar/Tools/LineTool/_styles.module.scss","components/Painter/_styles.module.scss","components/SearchInput/_styles.module.scss","components/Painter/Toolbar/Tools/PanelWrapper/_styles.module.scss","components/Painter/Toolbar/Tools/ColorTool/Panel/_styles.module.scss","components/Painter/Toolbar/Tools/SizeTool/Panel/_styles.module.scss","components/Painter/Toolbar/_styles.module.scss"],"names":["RECTANGLE","CIRCLE","SET_COLOR","SET_SIZE","SET_TOOL_TYPE","THEMES","DARK","LIGHT","user","localStorage","getItem","localTheme","theme","initialState","JSON","parse","isAuthorization","isLoading","authReducer","state","action","type","authConstants","app","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","auth","email","username","password","a","createUserWithEmailAndPassword","then","data","Error","userId","uid","userCredentials","doc","set","catch","err","signInWithEmailAndPassword","signup","login","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","currentUser","newEmail","updatePassword","newPassword","get","userData","message","drawingUrl","drawingId","uniqid","drawingData","images","collection","QuerySnapshot","forEach","push","hasUser","getUserData","saveImageData","getImages","checkUser","switchTheme","dispatch","setIsLoading","value","dbServices","error","authService","fbUser","setItem","stringify","removeItem","toolColor","painterConstants","brushSize","toolType","painterReducer","actionTypes","setToolColor","color","despatch","window","drawing","setBrushSize","size","setToolType","rootReducer","combineReducers","painter","Header","pathName","useHistory","location","pathname","className","styles","container","list","link","routeConstants","to","profileLink","src","profileIcon","alt","PrivateRoute","Component","component","path","useSelector","store","render","Drawing","canvasElem","ctx","canvasRect","isTouching","startTouchPosition","savedImageData","canvas","getContext","CanvasRenderingContext2D","parentElement","this","getBoundingClientRect","x","y","addEventListener","touch","bind","stopTouch","move","width","offsetWidth","height","offsetHeight","fillStyle","fillRect","strokeStyle","lineWidth","tool","toDataURL","e","MouseEvent","clientX","left","clientY","top","changedTouches","getTouchPosition","saveCanvasImage","beginPath","getImageData","putImageData","lineTo","stroke","arc","Math","PI","fill","moveTo","redrawCanvasImage","positionDifferenceX","positionDifferenceY","radius","sqrt","endAngle","LINE","SHAPES","touchPosition","drawLine","drawRectangle","drawCircle","drawBrush","PainterTop","btn","onClick","drawingURL","getDrawingURL","saveAs","PanelWrapper","elements","hidePanel","wrapperRef","useRef","useEffect","tryHidePanel","current","contains","target","document","removeEventListener","wrapper","ref","Panel","useDispatch","cratePanel","useCallback","map","style","backgroundColor","panelBtn","painterActions","handleColorCellClick","ColorTool","useState","isActive","setIsActive","selectedColorStyle","background","handleToolBtnClick","toolBtn","selectedColor","handleSizeCellClick","SizeTool","cellRef","brushSizeState","handleCellClick","Object","keys","key","shape","ShapesTool","shapesIcon","BrushTool","icon","brushIcon","LineTool","Toolbar","toolbar","Painter","canvasRef","canvasWrapper","history","picture","pictureImgWrapper","pictureUsername","DrawingsView","drawings","setElements","item","SearchInput","filter","inputRef","input","onChange","placeholder","HomePage","setDrawings","filteredDrawings","setFilteredDrawings","isMounted","items","filtered","includes","ProfilePage","main","mainTop","logoOutBtn","authActions","mainCenter","switchThemeBtn","EmailInput","setEmail","hasError","setHasError","validator","isEmail","NicknameInput","setNickname","PasswordInput","setPassword","validate","isStrongPassword","PasswordConfirmInput","setPasswordConfirm","SubmitBtn","text","disabled","Login","btnDisable","onSubmit","preventDefault","Registration","nickname","passwordConfirm","ResetPassword","PainterPage","DrawingPage","drawingSrc","hash","substr","App","LoginPage","RegistrationPage","ResetPasswordPage","exact","defaultProps","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.25485d07.chunk.js","sourcesContent":["export default {\n  HOME_ROUTE: \"/\",\n  PAINTER_ROUTE: \"/painter\",\n  DRAWING_ROUTE: \"/drawing\",\n  PROFILE_ROUTE: \"/profile\",\n  LOGIN_ROUTE: \"/login\",\n  REGISTER_ROUTE: \"/register\",\n  RESET_PASSWORD_ROUTE: \"/reset-password\",\n};\n","export default {\n  SIGNUP: \"SIGNUP\",\n  LOGIN: \"LOGIN\",\n  LOGOUT: \"LOGOUT\",\n  RESET_PASSWORD: \"RESET_PASSWORD\",\n  UPDATE_EMAIL: \"UPDATE_EMAIL\",\n  UPDATE_PASSWORD: \"UPDATE_PASSWORD\",\n  SET_LOADING: \"SET_LOADING\",\n  SWITCH_THEME: \"SET_THEME\",\n};\n","const TOOL_COLORS: string[] = [\n  \"black\",\n  \"white\",\n  \"green\",\n  \"blue\",\n  \"red\",\n  \"yellow\",\n  \"purple\",\n];\n\nconst BRUSH_SIZES: number[] = [2, 5, 10, 20, 30, 40, 50];\n\nconst SHAPES = {\n  RECTANGLE: \"RECTANGLE\",\n  CIRCLE: \"CIRCLE\",\n};\n\nconst BRUSH = \"BRUSH\";\nconst LINE = \"LINE\";\n\nconst actions = {\n  SET_COLOR: \"SET_COLOR\",\n  SET_SIZE: \"SET_SIZE\",\n  SET_TOOL_TYPE: \"SET_TOOL_TYPE\",\n};\n\nexport default { TOOL_COLORS, BRUSH_SIZES, SHAPES, BRUSH, LINE, actions };\n","const THEMES = {\n  DARK: \"dark\",\n  LIGHT: \"light\",\n};\n\nexport default THEMES;\n","import { authConstants, THEMES } from \"@constants\";\nimport { AuthState, Action } from \"./types\";\n\nconst user = localStorage.getItem(\"user\");\nconst localTheme = localStorage.getItem(\"theme\");\nconst theme = localTheme !== null ? localTheme : THEMES.DARK;\n\nconst initialState = user\n  ? {\n      user: JSON.parse(user),\n      isAuthorization: true,\n      isLoading: false,\n      theme,\n    }\n  : { user: null, isAuthorization: false, isLoading: false, theme };\n\nconst authReducer = (\n  state: AuthState = initialState,\n  action: Action\n): AuthState => {\n  switch (action.type) {\n    case authConstants.SIGNUP:\n      return {\n        user: action.user,\n        isAuthorization: true,\n        isLoading: false,\n        theme: state.theme,\n      };\n    case authConstants.LOGIN:\n      return {\n        user: action.user,\n        isAuthorization: true,\n        isLoading: false,\n        theme: state.theme,\n      };\n    case authConstants.LOGOUT:\n      return {\n        user: null,\n        isAuthorization: false,\n        isLoading: false,\n        theme: state.theme,\n      };\n    case authConstants.SET_LOADING:\n      return {\n        user: state.user,\n        isAuthorization: state.isAuthorization,\n        isLoading: action.isLoading,\n        theme: state.theme,\n      };\n    case authConstants.SWITCH_THEME:\n      return {\n        user: state.user,\n        isAuthorization: state.isAuthorization,\n        isLoading: state.isLoading,\n        theme: state.theme === THEMES.DARK ? THEMES.LIGHT : THEMES.DARK,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default authReducer;\n","import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nconst app: firebase.app.App = firebase.initializeApp({\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n});\n\nexport const db: firebase.firestore.Firestore = app.firestore();\nexport const auth: firebase.auth.Auth = app.auth();\nexport default app;\n","import firebase from \"firebase\";\nimport { auth, db } from \"@src/firebase\";\n\nasync function signup(\n  email: string,\n  username: string,\n  password: string\n): Promise<firebase.User> {\n  return auth\n    .createUserWithEmailAndPassword(email, password)\n    .then(async (data) => {\n      if (data.user === null) {\n        throw new Error(\"Error while creating user!\");\n      }\n\n      const userId = data.user.uid;\n      const userCredentials = {\n        username,\n        userId,\n      };\n\n      await db\n        .doc(`/users/${email}`)\n        .set(userCredentials)\n        .catch(() => {\n          throw new Error(\"Error while creating user!\");\n        });\n      return data.user;\n    })\n    .catch((err) => {\n      throw new Error(err);\n    });\n}\n\nasync function login(email: string, password: string): Promise<firebase.User> {\n  return auth\n    .signInWithEmailAndPassword(email, password)\n    .then((data) => {\n      if (!data.user) {\n        throw new Error(\"User not found!\");\n      }\n      return data.user;\n    })\n    .catch((err) => {\n      throw new Error(err);\n    });\n}\n\nfunction logout(): Promise<void> {\n  return auth.signOut();\n}\n\nfunction resetPassword(email: string): Promise<void> {\n  return auth.sendPasswordResetEmail(email);\n}\n\nfunction updateEmail(\n  currentUser: firebase.User,\n  newEmail: string\n): Promise<void> {\n  return currentUser.updateEmail(newEmail);\n}\n\nfunction updatePassword(\n  currentUser: firebase.User,\n  newPassword: string\n): Promise<void> {\n  return currentUser.updatePassword(newPassword);\n}\n\nexport default {\n  signup,\n  login,\n  logout,\n  resetPassword,\n  updateEmail,\n  updatePassword,\n};\n","import firebase from \"firebase\";\nimport uniqid from \"uniqid\";\nimport { db } from \"@src/firebase\";\nimport { DrawingData } from \"./types\";\n\nasync function getUserData(\n  email: string\n): Promise<firebase.firestore.DocumentData> {\n  return db\n    .doc(`/users/${email}`)\n    .get()\n    .then((doc) => {\n      const userData = doc.data();\n      if (!userData) throw new Error(\"User not found!\");\n      return userData;\n    })\n    .catch((err: Error) => {\n      throw new Error(err.message);\n    });\n}\n\nasync function saveImageData(\n  userId: string,\n  username: string,\n  drawingUrl: string\n): Promise<void> {\n  const drawingId = uniqid();\n  const drawingData: DrawingData = {\n    userId,\n    username,\n    drawingUrl,\n    drawingId,\n  };\n  db.doc(`/drawings/${drawingId}`).set(drawingData);\n}\n\nasync function getImages(): Promise<DrawingData[]> {\n  const images: DrawingData[] = [];\n  await db\n    .collection(\"/drawings/\")\n    .get()\n    .then((QuerySnapshot) => {\n      QuerySnapshot.forEach((data) => {\n        images.push(<DrawingData>data.data());\n      });\n    });\n  return images;\n}\n\nasync function checkUser(email: string): Promise<boolean> {\n  let hasUser = true;\n  await db\n    .doc(`/users/${email}`)\n    .get()\n    .then((doc) => {\n      const userData = doc.data();\n      if (!userData) throw new Error(\"User not found!\");\n      hasUser = true;\n    })\n    .catch(() => {\n      hasUser = false;\n    });\n  return hasUser;\n}\n\nexport default { getUserData, saveImageData, getImages, checkUser };\n","import { Dispatch } from \"redux\";\nimport firebase from \"firebase\";\nimport { authConstants } from \"@constants\";\nimport { authService, dbServices } from \"@services\";\nimport { User } from \"@store/auth/types\";\nimport { error } from \"toastr\";\n\nfunction switchTheme(): CallableFunction {\n  return (dispatch: Dispatch): void => {\n    dispatch({\n      type: authConstants.SWITCH_THEME,\n    });\n  };\n}\n\nfunction setIsLoading(value: boolean): CallableFunction {\n  return (dispatch: Dispatch): void => {\n    dispatch({\n      type: authConstants.SET_LOADING,\n      isLoading: value,\n    });\n  };\n}\n\nfunction signup(\n  email: string,\n  username: string,\n  password: string\n): CallableFunction {\n  return (dispatch: Dispatch): void => {\n    dbServices.checkUser(email).then((hasUser) => {\n      if (hasUser) {\n        error(\"Error while creating user!\");\n        dispatch({\n          type: authConstants.SET_LOADING,\n          isLoading: false,\n        });\n      } else {\n        authService\n          .signup(email, username, password)\n          .then((fbUser) => {\n            const user: User = {\n              fbUser,\n              username,\n            };\n            localStorage.setItem(\"user\", JSON.stringify(user));\n            dispatch({\n              type: authConstants.SIGNUP,\n              user,\n            });\n          })\n          .catch((err) => {\n            error(err.message);\n            dispatch({\n              type: authConstants.SET_LOADING,\n              isLoading: false,\n            });\n          });\n      }\n    });\n  };\n}\n\nfunction login(email: string, password: string): CallableFunction {\n  return (dispatch: Dispatch): void => {\n    authService\n      .login(email, password)\n      .then((fbUser) => {\n        dbServices.getUserData(email).then((userData) => {\n          const user: User = {\n            fbUser,\n            username: userData.username,\n          };\n          localStorage.setItem(\"user\", JSON.stringify(user));\n          dispatch({\n            type: authConstants.LOGIN,\n            user,\n          });\n        });\n      })\n      .catch((err: Error) => {\n        error(err.message);\n        dispatch({\n          type: authConstants.SET_LOADING,\n          isLoading: false,\n        });\n      });\n  };\n}\n\nfunction logout(): CallableFunction {\n  return (dispatch: Dispatch): void => {\n    authService.logout().then(() => {\n      localStorage.removeItem(\"user\");\n      dispatch({\n        type: authConstants.LOGOUT,\n      });\n    });\n  };\n}\n\nfunction resetPassword(email: string): CallableFunction {\n  return (dispatch: Dispatch): void => {\n    authService.resetPassword(email).then(() => {\n      dispatch({\n        type: authConstants.RESET_PASSWORD,\n      });\n    });\n  };\n}\n\nfunction updateEmail(\n  currentUser: firebase.User,\n  email: string\n): CallableFunction {\n  return (dispatch: Dispatch): void => {\n    authService.updateEmail(currentUser, email).then(() => {\n      dispatch({\n        type: authConstants.UPDATE_EMAIL,\n      });\n    });\n  };\n}\n\nfunction updatePassword(\n  currentUser: firebase.User,\n  newPassword: string\n): CallableFunction {\n  return (dispatch: Dispatch): void => {\n    authService.updatePassword(currentUser, newPassword).then(() => {\n      dispatch({\n        type: authConstants.UPDATE_PASSWORD,\n      });\n    });\n  };\n}\n\nexport default {\n  switchTheme,\n  setIsLoading,\n  signup,\n  login,\n  logout,\n  resetPassword,\n  updateEmail,\n  updatePassword,\n};\n","import { painterConstants } from \"@constants\";\nimport { PainterState, PainterAction } from \"./types\";\n\nconst initialState: PainterState = {\n  toolColor: painterConstants.TOOL_COLORS[0],\n  brushSize: 10,\n  toolType: painterConstants.BRUSH,\n};\n\nconst painterReducer = (\n  state: PainterState = initialState,\n  action: PainterAction\n): PainterState => {\n  const actionTypes = painterConstants.actions;\n  switch (action.type) {\n    case actionTypes.SET_COLOR:\n      return {\n        toolColor: action.toolColor,\n        brushSize: state.brushSize,\n        toolType: state.toolType,\n      };\n    case actionTypes.SET_SIZE:\n      return {\n        toolColor: state.toolColor,\n        brushSize: action.brushSize,\n        toolType: state.toolType,\n      };\n    case actionTypes.SET_TOOL_TYPE:\n      return {\n        toolColor: state.toolColor,\n        brushSize: state.brushSize,\n        toolType: action.toolType,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default painterReducer;\n","import { Dispatch } from \"redux\";\nimport { painterConstants } from \"@constants\";\n\nfunction setToolColor(color: string): CallableFunction {\n  return (despatch: Dispatch) => {\n    window.drawing?.setToolColor(color);\n    despatch({\n      type: painterConstants.actions.SET_COLOR,\n      toolColor: color,\n    });\n  };\n}\n\nfunction setBrushSize(size: number): CallableFunction {\n  return (despatch: Dispatch) => {\n    window.drawing?.setBrushSize(size);\n    despatch({\n      type: painterConstants.actions.SET_SIZE,\n      brushSize: size,\n    });\n  };\n}\n\nfunction setToolType(toolType: string): CallableFunction {\n  return (despatch: Dispatch) => {\n    window.drawing?.setToolType(toolType);\n    despatch({\n      type: painterConstants.actions.SET_TOOL_TYPE,\n      toolType,\n    });\n  };\n}\n\nexport default { setToolColor, setBrushSize, setToolType };\n","import { createStore, applyMiddleware, Store, combineReducers } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport { authReducer, AuthState } from \"./auth\";\nimport { painterReducer, PainterState } from \"./painter\";\n\nexport type CommonState = {\n  auth: AuthState;\n  painter: PainterState;\n};\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  painter: painterReducer,\n});\n\nconst initStore = (): Store => {\n  const store: Store = createStore(\n    rootReducer,\n    composeWithDevTools(applyMiddleware(thunk))\n  );\n  return store;\n};\n\nexport { initStore };\n","export default __webpack_public_path__ + \"static/media/brush.95650063.svg\";","export default __webpack_public_path__ + \"static/media/profile-user.2ab6e483.svg\";","export default __webpack_public_path__ + \"static/media/shapes.1b1dc535.svg\";","import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { routeConstants } from \"@constants\";\nimport { profileIcon } from \"@assets/icons\";\nimport styles from \"./_styles.module.scss\";\n\nexport default function Header(): JSX.Element {\n  const history = useHistory();\n  const pathName = history.location.pathname;\n\n  return (\n    <div className={styles.container}>\n      <ul className={styles.list}>\n        <li\n          className={\n            styles.link +\n            (pathName === routeConstants.HOME_ROUTE ? \" active\" : \"\")\n          }\n        >\n          <Link to={routeConstants.HOME_ROUTE}>HOME</Link>\n        </li>\n        <li\n          className={\n            styles.link +\n            (pathName === routeConstants.PAINTER_ROUTE ? \" active\" : \"\")\n          }\n        >\n          <Link to={routeConstants.PAINTER_ROUTE}>PAINTER</Link>\n        </li>\n      </ul>\n      <Link\n        className={\n          styles.profileLink +\n          (pathName === routeConstants.PROFILE_ROUTE ? \" active\" : \"\")\n        }\n        to={routeConstants.PROFILE_ROUTE}\n      >\n        <img src={profileIcon} alt=\"user\" />\n      </Link>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Redirect, Route, RouteProps } from \"react-router-dom\";\nimport { routeConstants } from \"@constants\";\nimport { useSelector } from \"react-redux\";\nimport { CommonState } from \"@store\";\nimport { Header } from \"@components\";\n\ninterface IPrivateRouteProps {\n  component: () => JSX.Element;\n  path: string;\n}\n\nexport default function PrivateRoute({\n  component: Component,\n  path,\n}: IPrivateRouteProps & RouteProps): JSX.Element {\n  const isAuthorization = useSelector(\n    (store: CommonState) => store.auth.isAuthorization\n  );\n\n  return (\n    <Route\n      path={path}\n      render={(): React.ReactNode => {\n        return isAuthorization ? (\n          <>\n            <Header />\n            <Component />\n          </>\n        ) : (\n          <Redirect to={routeConstants.LOGIN_ROUTE} />\n        );\n      }}\n    />\n  );\n}\n","import { painterConstants } from \"@constants\";\n\ninterface TouchPosition {\n  x: number;\n  y: number;\n}\n\nexport default class Drawing {\n  private container: HTMLElement;\n\n  private ctx: CanvasRenderingContext2D;\n\n  private canvasRect: DOMRect;\n\n  private isTouching: boolean;\n\n  private startTouchPosition: TouchPosition;\n\n  private toolType: string;\n\n  private toolColor: string;\n\n  private brushSize: number;\n\n  private savedImageData: ImageData;\n\n  constructor(canvasElem: HTMLCanvasElement) {\n    const canvas: HTMLCanvasElement = canvasElem;\n    const ctx: CanvasRenderingContext2D | null = canvas.getContext(\"2d\");\n\n    if (!ctx || !(ctx instanceof CanvasRenderingContext2D)) {\n      throw new Error(\"Failed to get 2D context\");\n    } else if (!canvas.parentElement) {\n      throw new Error(\"Failed to get container\");\n    }\n\n    this.container = canvas.parentElement;\n    this.ctx = ctx;\n    this.canvasRect = canvas.getBoundingClientRect();\n    this.isTouching = false;\n    this.toolType = painterConstants.BRUSH;\n    this.toolColor = \"black\";\n    this.brushSize = 10;\n    this.savedImageData = {} as ImageData;\n    this.startTouchPosition = { x: 0, y: 0 };\n\n    canvas.addEventListener(\"mousedown\", this.touch.bind(this));\n    canvas.addEventListener(\"touchstart\", this.touch.bind(this));\n    canvas.addEventListener(\"mouseup\", this.stopTouch.bind(this));\n    canvas.addEventListener(\"touchend\", this.stopTouch.bind(this));\n    canvas.addEventListener(\"mousemove\", this.move.bind(this));\n    canvas.addEventListener(\"touchmove\", this.move.bind(this));\n\n    this.ctx.canvas.width = this.container.offsetWidth;\n    this.ctx.canvas.height = this.container.offsetHeight;\n    this.canvasRect = this.ctx.canvas.getBoundingClientRect();\n\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    this.setToolColor(this.toolColor);\n    this.setBrushSize(this.brushSize);\n  }\n\n  public setToolColor(color: string): void {\n    this.toolColor = color;\n    this.ctx.strokeStyle = color;\n    this.ctx.fillStyle = color;\n  }\n\n  public setBrushSize(size: number): void {\n    this.brushSize = size;\n    this.ctx.lineWidth = size;\n  }\n\n  public setToolType(tool: string): void {\n    this.toolType = tool;\n  }\n\n  public getDrawingURL(): string {\n    return this.ctx.canvas.toDataURL();\n  }\n\n  private getTouchPosition(e: MouseEvent | TouchEvent): TouchPosition {\n    const touchPosition: TouchPosition =\n      e instanceof MouseEvent\n        ? {\n            x: e.clientX - this.canvasRect.left,\n            y: e.clientY - this.canvasRect.top,\n          }\n        : {\n            x: e.changedTouches[0].clientX - this.canvasRect.left,\n            y: e.changedTouches[0].clientY - this.canvasRect.top,\n          };\n    return touchPosition;\n  }\n\n  private touch(e: MouseEvent | TouchEvent): void {\n    this.isTouching = true;\n    this.startTouchPosition = this.getTouchPosition(e);\n    this.saveCanvasImage();\n    this.move(e);\n  }\n\n  private stopTouch(): void {\n    this.isTouching = false;\n    this.ctx.beginPath();\n  }\n\n  private saveCanvasImage(): void {\n    this.savedImageData = this.ctx.getImageData(\n      0,\n      0,\n      this.ctx.canvas.width,\n      this.ctx.canvas.height\n    );\n  }\n\n  private redrawCanvasImage(): void {\n    this.ctx.putImageData(this.savedImageData, 0, 0);\n  }\n\n  private drawBrush(x: number, y: number): void {\n    const { ctx, brushSize } = this;\n    ctx.lineTo(x, y);\n    ctx.stroke();\n    ctx.beginPath();\n\n    this.ctx.arc(x, y, brushSize / 2, 0, Math.PI * 2);\n    ctx.fill();\n    ctx.beginPath();\n    ctx.moveTo(x, y);\n  }\n\n  private drawLine(x: number, y: number): void {\n    const { ctx, brushSize } = this;\n\n    this.redrawCanvasImage();\n\n    ctx.beginPath();\n    ctx.moveTo(this.startTouchPosition.x, this.startTouchPosition.y);\n    ctx.lineTo(x, y);\n    ctx.stroke();\n\n    this.ctx.arc(\n      this.startTouchPosition.x,\n      this.startTouchPosition.y,\n      brushSize / 2,\n      0,\n      Math.PI * 2\n    );\n    this.ctx.arc(x, y, brushSize / 2, 0, Math.PI * 2);\n    ctx.fill();\n  }\n\n  private drawRectangle(x: number, y: number): void {\n    this.redrawCanvasImage();\n    this.ctx.fillRect(\n      this.startTouchPosition.x,\n      this.startTouchPosition.y,\n      -(this.startTouchPosition.x - x),\n      -(this.startTouchPosition.y - y)\n    );\n  }\n\n  private drawCircle(x: number, y: number): void {\n    this.redrawCanvasImage();\n    const positionDifferenceX = this.startTouchPosition.x - x;\n    const positionDifferenceY = this.startTouchPosition.y - y;\n    const radius: number = Math.sqrt(\n      positionDifferenceX * positionDifferenceX +\n        positionDifferenceY * positionDifferenceY\n    );\n    const startAngle = 0;\n    const endAngle: number = Math.PI * 2;\n    this.ctx.beginPath();\n    this.ctx.arc(\n      this.startTouchPosition.x,\n      this.startTouchPosition.y,\n      radius,\n      startAngle,\n      endAngle\n    );\n    this.ctx.fill();\n  }\n\n  private move(e: MouseEvent | TouchEvent): void {\n    if (!this.isTouching) return;\n\n    const { LINE, SHAPES } = painterConstants;\n    const touchPosition: TouchPosition = this.getTouchPosition(e);\n\n    switch (this.toolType) {\n      case LINE:\n        this.drawLine(touchPosition.x, touchPosition.y);\n        break;\n      case SHAPES.RECTANGLE:\n        this.drawRectangle(touchPosition.x, touchPosition.y);\n        break;\n      case SHAPES.CIRCLE:\n        this.drawCircle(touchPosition.x, touchPosition.y);\n        break;\n      default:\n        this.drawBrush(touchPosition.x, touchPosition.y);\n    }\n  }\n}\n","import React from \"react\";\nimport { saveAs } from \"file-saver\";\nimport { useSelector } from \"react-redux\";\nimport { dbServices } from \"@services\";\nimport { CommonState } from \"@store\";\nimport styles from \"./_styles.module.scss\";\n\nexport default function PainterTop(): JSX.Element {\n  const userId: string | undefined = useSelector(\n    (state: CommonState) => state.auth.user?.fbUser.uid\n  );\n  const username: string | undefined = useSelector(\n    (state: CommonState) => state.auth.user?.username\n  );\n\n  function handleDownloadBtnClick() {\n    if (!window.drawing) return;\n\n    const drawingURL = window.drawing.getDrawingURL();\n    saveAs(drawingURL, \"image\");\n  }\n\n  function handleSaveBtnClick(): void {\n    if (!(window.drawing && userId && username)) return;\n\n    const drawingURL = window.drawing.getDrawingURL();\n    dbServices.saveImageData(userId, username, drawingURL);\n  }\n\n  return (\n    <div className={styles.container}>\n      <button\n        className={styles.btn}\n        onClick={handleDownloadBtnClick}\n        type=\"button\"\n      >\n        Download\n      </button>\n      <button className={styles.btn} onClick={handleSaveBtnClick} type=\"button\">\n        Save\n      </button>\n    </div>\n  );\n}\n","import React, { useRef, useEffect } from \"react\";\nimport styles from \"./_styles.module.scss\";\n\ninterface Props {\n  elements: JSX.Element[];\n  hidePanel: () => void;\n}\n\nexport default function PanelWrapper({\n  elements,\n  hidePanel,\n}: Props): JSX.Element {\n  const wrapperRef = useRef<HTMLDivElement>({} as HTMLDivElement);\n\n  useEffect(() => {\n    const tryHidePanel = (e: MouseEvent): void => {\n      if (wrapperRef.current.contains(e.target as Element)) return;\n      hidePanel();\n    };\n    document.addEventListener(\"mousedown\", tryHidePanel);\n    return () => document.removeEventListener(\"mousedown\", tryHidePanel);\n  }, [hidePanel]);\n\n  return (\n    <div className={styles.wrapper} ref={wrapperRef}>\n      {elements}\n    </div>\n  );\n}\n","import React, { useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { painterConstants } from \"@constants\";\nimport { painterActions } from \"@store/painter\";\nimport PanelWrapper from \"../../PanelWrapper/PanelWrapper\";\nimport styles from \"./_styles.module.scss\";\n\ninterface PanelProps {\n  hidePanel: () => void;\n}\n\nexport default function Panel({ hidePanel }: PanelProps): JSX.Element {\n  const despatch = useDispatch();\n\n  const cratePanel = useCallback((): JSX.Element[] => {\n    function handleColorCellClick(color: string) {\n      despatch(painterActions.setToolColor(color));\n      hidePanel();\n    }\n\n    const brushColors: string[] = painterConstants.TOOL_COLORS;\n\n    return brushColors.map(\n      (color): JSX.Element => {\n        const style = {\n          backgroundColor: color,\n        };\n        return (\n          <button\n            className={styles.panelBtn}\n            onClick={() => handleColorCellClick(color)}\n            type=\"button\"\n            key={color}\n          >\n            <div style={style} />\n          </button>\n        );\n      }\n    );\n  }, [despatch, hidePanel]);\n\n  return <PanelWrapper elements={cratePanel()} hidePanel={hidePanel} />;\n}\n","import React, { ReactElement, useCallback, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { CommonState } from \"@store\";\nimport Panel from \"./Panel/Panel\";\nimport styles from \"./_styles.module.scss\";\n\nexport default function ColorTool(): ReactElement {\n  const [isActive, setIsActive] = useState<boolean>(false);\n\n  const colorState: string = useSelector(\n    (state: CommonState) => state.painter.toolColor\n  );\n\n  const selectedColorStyle = {\n    background: colorState,\n  };\n\n  const handleToolBtnClick = useCallback((): void => {\n    setIsActive(!isActive);\n  }, [isActive]);\n\n  const hidePanel = (): void => {\n    setIsActive(false);\n  };\n\n  return (\n    <div className={styles.tool}>\n      {isActive && <Panel hidePanel={hidePanel} />}\n      <button\n        className={styles.toolBtn}\n        type=\"button\"\n        onClick={handleToolBtnClick}\n      >\n        <div className={styles.selectedColor} style={selectedColorStyle} />\n      </button>\n    </div>\n  );\n}\n","import React, { useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { painterConstants } from \"@constants\";\nimport { painterActions } from \"@store/painter\";\nimport PanelWrapper from \"../../PanelWrapper/PanelWrapper\";\nimport styles from \"./_styles.module.scss\";\n\ninterface PanelProps {\n  hidePanel: () => void;\n}\n\nexport default function Panel({ hidePanel }: PanelProps): JSX.Element {\n  const despatch = useDispatch();\n\n  const cratePanel = useCallback((): JSX.Element[] => {\n    function handleSizeCellClick(size: number) {\n      despatch(painterActions.setBrushSize(size));\n      hidePanel();\n    }\n\n    const brushSizes: number[] = painterConstants.BRUSH_SIZES;\n    return brushSizes.map(\n      (size): JSX.Element => {\n        return (\n          <button\n            className={styles.panelBtn}\n            onClick={() => handleSizeCellClick(size)}\n            type=\"button\"\n            key={size}\n          >\n            <div>{size}</div>\n          </button>\n        );\n      }\n    );\n  }, [despatch, hidePanel]);\n\n  return <PanelWrapper elements={cratePanel()} hidePanel={hidePanel} />;\n}\n","import React, { ReactElement, useRef, useCallback, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { CommonState } from \"@store\";\nimport Panel from \"./Panel/Panel\";\nimport styles from \"./_styles.module.scss\";\n\nexport default function SizeTool(): ReactElement {\n  const [isActive, setIsActive] = useState<boolean>(false);\n  const cellRef = useRef<HTMLDivElement>({} as HTMLDivElement);\n  const brushSizeState: number = useSelector(\n    (state: CommonState) => state.painter.brushSize\n  );\n\n  const handleCellClick = useCallback((): void => {\n    setIsActive(!isActive);\n  }, [isActive]);\n\n  const hidePanel = (): void => {\n    setIsActive(false);\n  };\n\n  return (\n    <div className={styles.tool} ref={cellRef}>\n      {isActive && <Panel hidePanel={hidePanel} />}\n      <button\n        className={styles.toolBtn}\n        type=\"button\"\n        onClick={handleCellClick}\n      >\n        <div>{brushSizeState}px</div>\n      </button>\n    </div>\n  );\n}\n","import React, { useCallback } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { painterConstants } from \"@constants\";\nimport { painterActions } from \"@store/painter\";\nimport PanelWrapper from \"../../PanelWrapper/PanelWrapper\";\nimport styles from \"./_styles.module.scss\";\n\ninterface PanelProps {\n  hidePanel: () => void;\n}\n\nexport default function Panel({ hidePanel }: PanelProps): JSX.Element {\n  const despatch = useDispatch();\n\n  const cratePanel = useCallback((): JSX.Element[] => {\n    function handlePanelBtnClick(shape: string) {\n      despatch(painterActions.setToolType(shape));\n      hidePanel();\n    }\n\n    const { SHAPES } = painterConstants;\n\n    return Object.keys(SHAPES).map(\n      (key): JSX.Element => {\n        return (\n          <button\n            className={styles.panelBtn}\n            onClick={() => handlePanelBtnClick(key)}\n            type=\"button\"\n            key={key}\n          >\n            <div className={styles[key]} />\n          </button>\n        );\n      }\n    );\n  }, [despatch, hidePanel]);\n\n  return <PanelWrapper elements={cratePanel()} hidePanel={hidePanel} />;\n}\n","import React, { useState, useCallback } from \"react\";\nimport { shapesIcon } from \"@assets/icons\";\nimport Panel from \"./Panel/Panel\";\nimport styles from \"./_styles.module.scss\";\n\nexport default function ShapesTool(): JSX.Element {\n  const [isActive, setIsActive] = useState<boolean>(false);\n\n  const handleToolBtnClick = useCallback((): void => {\n    setIsActive(!isActive);\n  }, [isActive]);\n\n  const hidePanel = (): void => {\n    setIsActive(false);\n  };\n\n  return (\n    <div className={styles.tool}>\n      {isActive && <Panel hidePanel={hidePanel} />}\n      <button\n        className={styles.toolBtn}\n        type=\"button\"\n        onClick={handleToolBtnClick}\n      >\n        <img src={shapesIcon} alt=\"shapes\" />\n      </button>\n    </div>\n  );\n}\n","import React, { ReactElement } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { CommonState } from \"@store\";\nimport { painterActions } from \"@store/painter\";\nimport { painterConstants } from \"@constants\";\nimport { brushIcon } from \"@assets/icons\";\nimport styles from \"./_styles.module.scss\";\n\nexport default function BrushTool(): ReactElement {\n  const dispatch = useDispatch();\n  const toolType: string = useSelector(\n    (state: CommonState) => state.painter.toolType\n  );\n  const isActive = toolType === painterConstants.BRUSH;\n\n  function handleClick() {\n    if (isActive) return;\n    dispatch(painterActions.setToolType(painterConstants.BRUSH));\n  }\n\n  return (\n    <div className={`${styles.tool} ${isActive ? \"active\" : \"\"}`}>\n      <button className={styles.toolBtn} type=\"button\" onClick={handleClick}>\n        <img className={styles.icon} src={brushIcon} alt=\"brush\" />\n      </button>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { CommonState } from \"@store\";\nimport { painterActions } from \"@store/painter\";\nimport { painterConstants } from \"@constants\";\nimport styles from \"./_styles.module.scss\";\n\nexport default function LineTool(): JSX.Element {\n  const dispatch = useDispatch();\n  const toolType: string = useSelector(\n    (state: CommonState) => state.painter.toolType\n  );\n  const isActive = toolType === painterConstants.LINE;\n\n  function handleClick() {\n    if (isActive) return;\n    dispatch(painterActions.setToolType(painterConstants.LINE));\n  }\n\n  return (\n    <div className={`${styles.tool} ${isActive ? \"active\" : \"\"}`}>\n      <button className={styles.toolBtn} type=\"button\" onClick={handleClick}>\n        <div />\n      </button>\n    </div>\n  );\n}\n","import React, { ReactElement } from \"react\";\nimport { ColorTool, SizeTool, BrushTool, LineTool, ShapesTool } from \"./Tools\";\nimport styles from \"./_styles.module.scss\";\n\nexport default function Toolbar(): ReactElement {\n  return (\n    <div className={styles.toolbar}>\n      <ColorTool />\n      <SizeTool />\n      <BrushTool />\n      <LineTool />\n      <ShapesTool />\n    </div>\n  );\n}\n","import React, { useRef, useEffect } from \"react\";\nimport Drawing from \"./Drawing/Drawing\";\nimport PainterTop from \"./PainterTop/PainterTop\";\nimport Toolbar from \"./Toolbar/Toolbar\";\nimport styles from \"./_styles.module.scss\";\n\ndeclare global {\n  interface Window {\n    drawing: Drawing | null;\n  }\n}\n\nexport default function Painter(): JSX.Element {\n  const canvasRef = useRef<HTMLCanvasElement>({} as HTMLCanvasElement);\n\n  useEffect(() => {\n    window.drawing = new Drawing(canvasRef.current);\n    return () => {\n      window.drawing = null;\n    };\n  }, [canvasRef]);\n\n  return (\n    <div className={styles.container}>\n      <PainterTop />\n      <div className={styles.canvasWrapper}>\n        <canvas ref={canvasRef} />\n      </div>\n      <Toolbar />\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { DrawingData } from \"@services\";\nimport { routeConstants } from \"@constants\";\nimport styles from \"./_styles.module.scss\";\n\ninterface DrawingProps {\n  src: string;\n  username: string;\n}\n\ninterface DrawingsViewProps {\n  drawings: DrawingData[];\n}\n\nfunction Drawing({ src, username }: DrawingProps): JSX.Element {\n  const history = useHistory();\n\n  function handleClick(): void {\n    history.push(`${routeConstants.DRAWING_ROUTE}#${src}`);\n  }\n\n  return (\n    <button className={styles.picture} onClick={handleClick} type=\"button\">\n      <div className={styles.pictureImgWrapper}>\n        <img src={src} alt=\"img\" />\n      </div>\n      <p className={styles.pictureUsername}>{username}</p>\n    </button>\n  );\n}\n\nexport default function DrawingsView({\n  drawings,\n}: DrawingsViewProps): JSX.Element {\n  const [elements, setElements] = useState<JSX.Element[]>([]);\n\n  useEffect(() => {\n    const images: JSX.Element[] = [];\n    drawings.forEach((item): void => {\n      images.push(\n        <Drawing\n          src={item.drawingUrl}\n          username={item.username}\n          key={item.drawingId}\n        />\n      );\n    });\n    setElements(images);\n  }, [drawings, setElements]);\n\n  return <div className={styles.container}>{elements}</div>;\n}\n","import React, { useRef } from \"react\";\nimport styles from \"./_styles.module.scss\";\n\ninterface SearchInputProps {\n  filter: (word: string) => void;\n}\n\nexport default function SearchInput({ filter }: SearchInputProps): JSX.Element {\n  const inputRef = useRef<HTMLInputElement>({} as HTMLInputElement);\n\n  function handleInputChange(): void {\n    if (inputRef.current) {\n      filter(inputRef.current.value);\n    }\n  }\n\n  return (\n    <div className={styles.container}>\n      <input\n        className={styles.input}\n        onChange={handleInputChange}\n        ref={inputRef}\n        type=\"text\"\n        placeholder=\"username\"\n      />\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { SearchInput, DrawingsView } from \"@components\";\nimport { dbServices, DrawingData } from \"@services\";\n\nexport default function HomePage(): JSX.Element {\n  const [drawings, setDrawings] = useState<DrawingData[]>([]);\n  const [filteredDrawings, setFilteredDrawings] = useState<DrawingData[]>([]);\n\n  function filterDrawingsByUser(username: string): void {\n    const filtered: DrawingData[] = drawings.filter((item): boolean =>\n      item.username.includes(username)\n    );\n    setFilteredDrawings(filtered);\n  }\n\n  useEffect(() => {\n    let isMounted = true;\n    const getImages: Promise<DrawingData[]> = dbServices.getImages();\n    getImages.then((items: DrawingData[]): void => {\n      if (!isMounted) return;\n      setDrawings(items);\n      setFilteredDrawings(items);\n    });\n\n    return (): void => {\n      isMounted = false;\n    };\n  }, []);\n\n  return (\n    <div className=\"page_wrapper\">\n      <SearchInput filter={filterDrawingsByUser} />\n      <DrawingsView drawings={filteredDrawings} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { routeConstants } from \"@constants\";\nimport { CommonState } from \"@store\";\nimport { authActions } from \"@store/auth\";\nimport styles from \"./_styles.module.scss\";\n\nexport default function ProfilePage(): JSX.Element {\n  const dispatch = useDispatch();\n  const username = useSelector(\n    (state: CommonState) => state.auth.user?.username\n  );\n  const history = useHistory();\n\n  function handleLogOut(): void {\n    dispatch(authActions.logout());\n    history.push(routeConstants.LOGIN_ROUTE);\n  }\n\n  function handleThemeBtnClick(): void {\n    dispatch(authActions.switchTheme());\n  }\n\n  return (\n    <div className=\"page_wrapper\">\n      <div className={styles.container}>\n        <div className={styles.main}>\n          <div className={styles.mainTop}>\n            <p className={styles.username}>{username}</p>\n            <button\n              className={styles.logoOutBtn}\n              type=\"button\"\n              onClick={handleLogOut}\n            >\n              Log out\n            </button>\n          </div>\n          <div className={styles.mainCenter}>\n            <button\n              className={styles.switchThemeBtn}\n              type=\"button\"\n              onClick={handleThemeBtnClick}\n            >\n              Switch theme\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport validator from \"validator\";\n\ninterface EmailInputProps {\n  setEmail: React.Dispatch<React.SetStateAction<string>>;\n}\n\nexport default function EmailInput({ setEmail }: EmailInputProps): JSX.Element {\n  const [hasError, setHasError] = useState<boolean>(false);\n\n  function handleChange(e: React.ChangeEvent<HTMLInputElement>): void {\n    const { value } = e.target;\n    if (!validator.isEmail(value)) {\n      setHasError(true);\n      setEmail(\"\");\n      return;\n    }\n    setHasError(false);\n    setEmail(value);\n  }\n\n  return (\n    <input\n      className={`auth_t-input ${hasError ? \"wrong\" : \"\"}`}\n      onChange={handleChange}\n      type=\"email\"\n      placeholder=\"e-mail\"\n    />\n  );\n}\n","import React from \"react\";\n\ninterface NicknameInputProps {\n  setNickname: React.Dispatch<React.SetStateAction<string>>;\n}\n\nexport default function NicknameInput({\n  setNickname,\n}: NicknameInputProps): JSX.Element {\n  function handleChange(e: React.ChangeEvent<HTMLInputElement>): void {\n    setNickname(e.target.value);\n  }\n\n  return (\n    <input\n      className=\"auth_t-input\"\n      onChange={handleChange}\n      type=\"text\"\n      placeholder=\"nickname\"\n    />\n  );\n}\n","import React, { useState } from \"react\";\nimport validator from \"validator\";\n\ninterface PasswordInputProps {\n  setPassword: React.Dispatch<React.SetStateAction<string>>;\n  validate?: boolean;\n}\n\nconst defaultProps = {\n  validate: false,\n};\n\nexport default function PasswordInput({\n  setPassword,\n  validate,\n}: PasswordInputProps): JSX.Element {\n  const [hasError, setHasError] = useState<boolean>(false);\n\n  function handleChange(e: React.ChangeEvent<HTMLInputElement>): void {\n    const { value } = e.target;\n    if (validate && validator.isStrongPassword(value)) {\n      setHasError(false);\n      setPassword(value);\n      return;\n    }\n    if (value) {\n      setHasError(false);\n      setPassword(value);\n      return;\n    }\n    setHasError(true);\n    setPassword(\"\");\n  }\n\n  return (\n    <input\n      className={`auth_t-input ${hasError ? \"wrong\" : \"\"}`}\n      onChange={handleChange}\n      type=\"password\"\n      placeholder=\"password\"\n    />\n  );\n}\n\nPasswordInput.defaultProps = defaultProps;\n","import React, { useState } from \"react\";\n\ninterface PasswordInputProps {\n  password: string;\n  setPasswordConfirm: React.Dispatch<React.SetStateAction<string>>;\n}\n\nexport default function PasswordConfirmInput({\n  password,\n  setPasswordConfirm,\n}: PasswordInputProps): JSX.Element {\n  const [hasError, setHasError] = useState<boolean>(false);\n\n  function handleChange(e: React.ChangeEvent<HTMLInputElement>): void {\n    const { value } = e.target;\n    if (value !== password) {\n      setHasError(true);\n      setPasswordConfirm(\"\");\n      return;\n    }\n    setHasError(false);\n    setPasswordConfirm(value);\n  }\n\n  return (\n    <input\n      className={`auth_t-input ${hasError ? \"wrong\" : \"\"}`}\n      onChange={handleChange}\n      type=\"password\"\n      placeholder=\"password confirm\"\n    />\n  );\n}\n","import React from \"react\";\n\ninterface SubmitBtnProps {\n  text: string;\n  disabled: boolean;\n}\n\nexport default function SubmitBtn({\n  text,\n  disabled,\n}: SubmitBtnProps): JSX.Element {\n  return (\n    <button className=\"auth_submit-btn\" type=\"submit\" disabled={disabled}>\n      {text}\n    </button>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { routeConstants } from \"@constants\";\nimport { EmailInput, PasswordInput, SubmitBtn } from \"@components/auth\";\nimport { authActions } from \"@store/auth\";\nimport { CommonState } from \"@store\";\n\nexport default function Login(): JSX.Element {\n  const [email, setEmail] = useState<string>(\"\");\n  const [password, setPassword] = useState<string>(\"\");\n  const dispatch = useDispatch();\n  const isAuthorization = useSelector(\n    (state: CommonState) => state.auth.isAuthorization\n  );\n  const isLoading = useSelector((state: CommonState) => state.auth.isLoading);\n\n  function handleSubmit(e: React.FormEvent): void {\n    e.preventDefault();\n    dispatch(authActions.setIsLoading(true));\n    dispatch(authActions.login(email, password));\n  }\n\n  const hasError = !(email && password);\n  const btnDisable = hasError || isLoading;\n\n  if (isAuthorization) {\n    return <Redirect to={routeConstants.HOME_ROUTE} />;\n  }\n\n  return (\n    <div className=\"page_wrapper\">\n      <div className=\"auth_container\">\n        <p className=\"auth_title\">Login</p>\n        <form className=\"auth_form\" onSubmit={handleSubmit}>\n          <EmailInput setEmail={setEmail} />\n          <PasswordInput setPassword={setPassword} />\n          <SubmitBtn text=\"LOGIN\" disabled={btnDisable} />\n        </form>\n        <Link className=\"auth_link\" to={routeConstants.RESET_PASSWORD_ROUTE}>\n          Forgot password?\n        </Link>\n        <div className=\"auth_bottom\">\n          <p className=\"auth_bottom__title\">Need an account?</p>\n          <Link\n            className=\"auth_bottom__link\"\n            to={routeConstants.REGISTER_ROUTE}\n          >\n            Sign up\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { routeConstants } from \"@constants\";\nimport { authActions } from \"@store/auth\";\nimport { CommonState } from \"@store\";\nimport {\n  EmailInput,\n  NicknameInput,\n  PasswordInput,\n  PasswordConfirmInput,\n  SubmitBtn,\n} from \"@components/auth\";\n\nexport default function Registration(): JSX.Element {\n  const [email, setEmail] = useState<string>(\"\");\n  const [nickname, setNickname] = useState<string>(\"\");\n  const [password, setPassword] = useState<string>(\"\");\n  const [passwordConfirm, setPasswordConfirm] = useState<string>(\"\");\n\n  const dispatch = useDispatch();\n\n  const isAuthorization = useSelector(\n    (state: CommonState) => state.auth.isAuthorization\n  );\n  const isLoading = useSelector((state: CommonState) => state.auth.isLoading);\n\n  function handleSubmit(e: React.FormEvent): void {\n    e.preventDefault();\n    dispatch(authActions.setIsLoading(true));\n    dispatch(authActions.signup(email, nickname, password));\n  }\n\n  const hasError = !(email && nickname && password && passwordConfirm);\n  const btnDisable = hasError || isLoading;\n\n  if (isAuthorization) {\n    return <Redirect to={routeConstants.HOME_ROUTE} />;\n  }\n\n  return (\n    <div className=\"page_wrapper\">\n      <div className=\"auth_container\">\n        <p className=\"auth_title\">Sign up</p>\n        <form className=\"auth_form\" onSubmit={handleSubmit}>\n          <EmailInput setEmail={setEmail} />\n          <NicknameInput setNickname={setNickname} />\n          <PasswordInput setPassword={setPassword} />\n          <PasswordConfirmInput\n            password={password}\n            setPasswordConfirm={setPasswordConfirm}\n          />\n          <SubmitBtn text=\"SIGNUP\" disabled={btnDisable} />\n        </form>\n        <div className=\"auth_bottom\">\n          <p className=\"auth_bottom__title\">Already have an account?</p>\n          <Link className=\"auth_bottom__link\" to={routeConstants.LOGIN_ROUTE}>\n            Log in\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { routeConstants } from \"@constants\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { authActions } from \"@store/auth\";\nimport { CommonState } from \"@store\";\nimport { EmailInput, SubmitBtn } from \"@components/auth\";\n\nexport default function ResetPassword(): JSX.Element {\n  const [email, setEmail] = useState<string>(\"\");\n  const dispatch = useDispatch();\n\n  const isAuthorization = useSelector(\n    (state: CommonState) => state.auth.isAuthorization\n  );\n  const isLoading = useSelector((state: CommonState) => state.auth.isLoading);\n\n  function handleSubmit(e: React.FormEvent): void {\n    e.preventDefault();\n    dispatch(authActions.setIsLoading(true));\n    dispatch(authActions.resetPassword(email));\n  }\n\n  if (isAuthorization) {\n    return <Redirect to={routeConstants.HOME_ROUTE} />;\n  }\n\n  return (\n    <div className=\"page_wrapper\">\n      <div className=\"auth_container\">\n        <p className=\"auth_title\">Reset Password</p>\n        <form className=\"auth_form\" onSubmit={handleSubmit}>\n          <EmailInput setEmail={setEmail} />\n          <SubmitBtn text=\"SEND\" disabled={isLoading} />\n        </form>\n        <Link className=\"auth_link\" to={routeConstants.LOGIN_ROUTE}>\n          Log in\n        </Link>\n        <div className=\"auth_bottom\">\n          <p className=\"auth_bottom__title\">Need an account?</p>\n          <Link\n            className=\"auth_bottom__link\"\n            to={routeConstants.REGISTER_ROUTE}\n          >\n            Sign up\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Painter } from \"@components\";\n\nexport default function PainterPage(): JSX.Element {\n  return (\n    <div className=\"page_wrapper\">\n      <Painter />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function DrawingPage(): JSX.Element {\n  const history = useHistory();\n  const drawingSrc = history.location.hash.substr(1);\n\n  return (\n    <div className=\"page_wrapper\">\n      <img src={drawingSrc} alt=\"drawing\" />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { routeConstants } from \"@constants\";\nimport { PrivateRoute } from \"@components\";\nimport {\n  HomePage,\n  PainterPage,\n  DrawingPage,\n  ProfilePage,\n  LoginPage,\n  RegistrationPage,\n  ResetPasswordPage,\n} from \"@pages\";\nimport { CommonState } from \"@store\";\n\nexport default function App(): JSX.Element {\n  const theme = useSelector((state: CommonState) => state.auth.theme);\n\n  return (\n    <div className={`App ${theme}`}>\n      <div className=\"App__main\">\n        <Router>\n          <Switch>\n            <Route path={routeConstants.LOGIN_ROUTE} component={LoginPage} />\n            <Route\n              path={routeConstants.REGISTER_ROUTE}\n              component={RegistrationPage}\n            />\n            <Route\n              path={routeConstants.RESET_PASSWORD_ROUTE}\n              component={ResetPasswordPage}\n            />\n            <PrivateRoute\n              path={routeConstants.PROFILE_ROUTE}\n              component={ProfilePage}\n            />\n            <PrivateRoute\n              exact\n              path={routeConstants.HOME_ROUTE}\n              component={HomePage}\n            />\n            <PrivateRoute\n              path={routeConstants.PAINTER_ROUTE}\n              component={PainterPage}\n            />\n            <PrivateRoute\n              path={routeConstants.DRAWING_ROUTE}\n              component={DrawingPage}\n            />\n          </Switch>\n        </Router>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Store } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { initStore } from \"@store\";\nimport App from \"./App\";\nimport \"@styles/index.scss\";\n\nconst store: Store = initStore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"_styles_wrapper__1_tnB\",\"container\":\"_styles_container__2dUcu\",\"main\":\"_styles_main__2Xgk7\",\"mainTop\":\"_styles_mainTop__3i2-C\",\"username\":\"_styles_username__XYAPN\",\"logoOutBtn\":\"_styles_logoOutBtn__3vHMn\",\"mainCenter\":\"_styles_mainCenter__3a0qt\",\"switchThemeBtn\":\"_styles_switchThemeBtn__3_MNR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_styles_container__2wbng\",\"link\":\"_styles_link__2eKbD\",\"profileLink\":\"_styles_profileLink__6QFKG\",\"list\":\"_styles_list__17SzJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_styles_container__1ya0m\",\"picture\":\"_styles_picture__2jV9R\",\"pictureImgWrapper\":\"_styles_pictureImgWrapper__3X3j0\",\"pictureUsername\":\"_styles_pictureUsername__1khW_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_styles_container__1Bzj_\",\"btn\":\"_styles_btn__fPm-9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tool\":\"_styles_tool__2kPl9\",\"toolBtn\":\"_styles_toolBtn__2uduP\",\"selectedColor\":\"_styles_selectedColor__1CK-m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tool\":\"_styles_tool__3CxCe\",\"toolBtn\":\"_styles_toolBtn__FtXqL\",\"icon\":\"_styles_icon__3wOsl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tool\":\"_styles_tool__1qZ7d\",\"toolBtn\":\"_styles_toolBtn__2niON\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panelBtn\":\"_styles_panelBtn__rkx72\",\"RECTANGLE\":\"_styles_RECTANGLE__vou-3\",\"CIRCLE\":\"_styles_CIRCLE__28M9N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tool\":\"_styles_tool__Ydr7c\",\"toolBtn\":\"_styles_toolBtn__2YHuQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tool\":\"_styles_tool__2KTuR\",\"toolBtn\":\"_styles_toolBtn__3e0jB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_styles_container__3neTB\",\"canvasWrapper\":\"_styles_canvasWrapper__1Y9UP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_styles_container__24g_L\",\"input\":\"_styles_input__3L58H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"_styles_wrapper__2lJvm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panelBtn\":\"_styles_panelBtn__3auWz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panelBtn\":\"_styles_panelBtn__beOBy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar\":\"_styles_toolbar__2ExZh\"};"],"sourceRoot":""}